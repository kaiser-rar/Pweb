<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Array de Objetos</title>
	<link rel="stylesheet" href="../styles.css">
</head>
<body>
	<div id=box>
		<h1>Lista de Livros</h1>
			<label>Nome:</label>
			<input type="text" id="nome" placeholder="Digite o título do livro"> 
			
			<label>Contato:</label>
			<input type="text" id="contato" placeholder="Digite o nome do autor">
			
			<label>Ano:</label>
			<input type="text" id="ano" placeholder="Digite o ano de publicação">
			
			<button onclick="adicionar()">Adicionar</button>
			
			<hr>
		<button onclick="posicao()">Posição</button>
		<button onclick="remover()">Remover Último</button>
		<button onclick="limparLista()">Limpar Lista</button>
		<button onclick="inverterPilha()">Inverter</button>
		
    <br><br>
	
    <div id="minhaDiv"></div>
	
	<hr>
	
	</div>
	<script type="text/javascript">
	let pilhaPessoas = [];

    function mostrarLista() {
      const container = document.getElementById('minhaDiv');
      container.innerHTML = ''; 

      for (let i = 0; i < pilhaPessoas.length; i++) {
        const pessoa = pilhaPessoas[i];
        const tag = '<h5>' + i + '- Nome: ' + pessoa.nome + ' | Contato: '+ pessoa.contato + ' | Ano: '+pessoa.ano+'</h5>';
        container.innerHTML += tag;
      }
    }
	
	function limpaCampos() {
	  document.getElementById('nome').value = '';
      document.getElementById('contato').value = '';
	  document.getElementById('ano').value = '';
	}

    function adicionar() {
	  // pega os valores digitados nos inputs
  	  const nome = document.getElementById('nome').value;
      const contato = document.getElementById('contato').value;
	  const ano=document.getElementById('ano').value;

      pilhaPessoas.push({ nome, contato, ano });

      // limpa os campos e atualiza a lista
	  limpaCampos();
      mostrarLista();
    }

    function posicao() {
      const indice = Number(prompt('Qual posição da lista deseja consultar?'));

      if (indice < 0 || indice >= pilhaPessoas.length) {
        alert('Posição inválida!');
        return;
      }

      const pessoa = pilhaPessoas[indice];
      alert('Na posição ' + indice + ' está: Nome: ' + pessoa.nome + ' - Contato: ' + pessoa.contato+' - Ano: '+pessoa.ano);
    }

    function limparLista() {
      pilhaPessoas = [];
      mostrarLista();
    }

    function remover() {
      if (pilhaPessoas.length === 0) {
        alert('A pilha está vazia!');
      } else {
        const removido = pilhaPessoas.pop();
        alert('Removido: ' + removido.nome + ' - ' + removido.contato+' - '+removido.ano);
        mostrarLista();
      }
    }

    function inverterPilha() {
      pilhaPessoas.reverse();
      mostrarLista();
    }
	</script>
</body>
</html>
