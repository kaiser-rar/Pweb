<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Arrays de Objeto</title>
	<link rel="stylesheet" href="../styles.css">
</head>
<body>
	<div class=box>
		<h1>Lista de Livros</h1>
		<label>Título:</label>
		<input type="text" id="tit" placeholder="Digite o título do livro"> 
		&thinsp;
		<label>Autor:</label>
		<input type="text" id="aut" placeholder="Digite o nome do autor">
		&thinsp;
		<label>Ano:</label>
		<input type="text" id="ano" placeholder="Digite o ano de publicação">
		&emsp;
		<button onclick="adicionar()">Adicionar</button>
		<hr>
		<button onclick="posicao()">Posição</button>
		<button onclick="remover()">Remover Último</button>
		<button onclick="limparLista()">Limpar Lista</button>
		<button onclick="inverterPilha()">Inverter</button>
		<br>
    <div id="minhaDiv"></div>
	</div>
	<script type="text/javascript">
	let listaLivros=[];

    function mostrarLista(){
		const container = document.getElementById('minhaDiv');
		container.innerHTML = ''; 
		for (let i=0;i<listaLivros.length;i++){
			const livro = listaLivros[i];
			const tag='<h5>'+i+'- Título: '+livro.tit+' | Autor: '+livro.aut+' | Ano: '+livro.ano+'</h5>';
			container.innerHTML+=tag;
      }
    }
	
	function limpaCampos(){
		document.getElementById('tit').value='';
		document.getElementById('aut').value='';
		document.getElementById('ano').value='';
	}

    function adicionar() {
		const tit=document.getElementById('tit').value;
		const aut=document.getElementById('aut').value;
		const ano=document.getElementById('ano').value;
		listaLivros.push({ tit, aut, ano });
		limpaCampos();
		mostrarLista();
    }

    function posicao(){
		const indice=Number(prompt('Qual posição da lista deseja consultar?'));
			if (indice<0||indice>=listaLivros.length){
			alert('Posição inválida!');
			return;
		}
		const livro=listaLivros[indice];
		alert('Na posição '+indice+' está o livro, Título: '+livro.tit +' - Autor: '+livro.aut+' - Ano: '+livro.ano);
    }

    function limparLista(){
		listaLivros=[];
		mostrarLista();
    }

    function remover(){
		if (listaLivros.length===0){
			alert('A pilha está vazia!');
		}else{
			const removido = listaLivros.pop();
			alert('O seguinte livro foi removido, Título: ' + removido.tit + ' - Autor: ' + removido.aut+' - Ano: '+removido.ano);
			mostrarLista();
      }
    }

    function inverterPilha(){
		listaLivros.reverse();
		mostrarLista();
    }
	</script>
</body>
</html>
